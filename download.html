<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PW Secure Access</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --pw:#5b2bd6;
  --pw-dark:#4a21b8;
  --yellow:#ffcf00;
  --bg:#f6f7fb;
}
*{box-sizing:border-box}

body{
  margin:0;
  background:linear-gradient(180deg,#f3f0ff,var(--bg));
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
}

.wrapper{
  max-width:430px;
  margin:28px auto;
  padding:14px;
}

/* ===== PW HEADER ===== */
.pw-header{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:16px;
}
.pw-logo{
  width:46px;
  height:46px;
  border-radius:14px;
  background:linear-gradient(135deg,var(--pw),var(--pw-dark));
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-weight:900;
  font-size:20px;
  box-shadow:0 6px 18px rgba(91,43,214,.35);
}
.pw-title{
  font-weight:800;
  font-size:18px;
  color:var(--pw);
}
.pw-sub{
  font-size:12px;
  color:#666;
}

/* ===== CARD ===== */
.card{
  background:#fff;
  border-radius:18px;
  padding:20px;
  box-shadow:0 12px 30px rgba(0,0,0,.1);
  margin-bottom:20px;
  animation:fadeUp .4s ease;
}
@keyframes fadeUp{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:none}
}

h2{
  margin:0 0 6px;
  color:var(--pw);
  font-weight:800;
}
.sub{
  font-size:13px;
  color:#666;
  margin-bottom:12px;
}

/* ===== INPUTS & BUTTONS ===== */
input{
  width:100%;
  padding:13px 14px;
  border-radius:14px;
  border:1.5px solid #ddd;
  font-size:15px;
  transition:.2s;
}
input:focus{
  outline:none;
  border-color:var(--pw);
  box-shadow:0 0 0 3px rgba(91,43,214,.15);
}

button{
  width:100%;
  padding:13px;
  margin-top:12px;
  border:none;
  border-radius:16px;
  background:linear-gradient(135deg,var(--pw),var(--pw-dark));
  color:#fff;
  font-size:16px;
  font-weight:800;
  cursor:pointer;
  transition:.2s;
}
button:hover{transform:translateY(-1px)}
button:active{transform:scale(.98)}

.hint{
  font-size:12px;
  color:#555;
  margin-top:8px;
  line-height:1.4;
}
.error{
  color:#d32f2f;
  font-size:13px;
  margin-top:6px;
}

/* ===== TIMER ===== */
.timer{
  background:#fff7cc;
  border:1px dashed var(--yellow);
  padding:10px;
  border-radius:14px;
  text-align:center;
  font-weight:800;
  color:#7a5a00;
}

/* ===== CONTENT ===== */
ol{
  font-size:14px;
  padding-left:18px;
}
ol li{margin-bottom:6px}

.apk-btn{
  background:linear-gradient(135deg,#ff9800,#ffcf00);
  color:#3b2a00;
}

.hide{display:none}
</style>
</head>

<body>
<div class="wrapper">

<!-- ===== LOGIN HEADER ===== -->
<div class="pw-header">
  <div class="pw-logo">PW</div>
  <div>
    <div class="pw-title">PW Secure Portal</div>
    <div class="pw-sub">Official access system</div>
  </div>
</div>

<!-- üîê LOGIN -->
<div class="card" id="loginBox">
  <h2>Login Required</h2>
  <div class="sub">Enter password to continue</div>

  <input type="password" id="sitePass" placeholder="Website password">
  <button onclick="checkSite()">Continue</button>

  <div class="hint">
    Password format: <b>RS@DDMMYYYY</b><br>
    Today: <b id="siteHint"></b>
  </div>
  <div id="siteErr" class="error"></div>
</div>

<!-- üîì CONTENT -->
<div id="content" class="hide">

  <!-- HEADER AFTER LOGIN -->
  <div class="pw-header">
    <div class="pw-logo">PW</div>
    <div>
      <div class="pw-title">PW Learning Access</div>
      <div class="pw-sub">Verified user session</div>
    </div>
  </div>

  <div class="card">
    <div class="timer" id="timer"></div>
  </div>

  <div class="card">
    <h2>üìå Important Instructions</h2>
    <ol>
      <li>Turn OFF Private / Custom DNS.</li>
      <li>Use Chrome or Opera Mini.</li>
      <li>If ads open, press BACK once.</li>
      <li>If site does not open, turn ON VPN.</li>
      <li>Laptop users: VPN + Ad-Blocker.</li>
    </ol>
  </div>

  <div class="card">
    <h2>üåê Open Website</h2>
    <button onclick="openWebsite()">Go to rarestudy.site</button>
  </div>

  <div class="card">
    <button onclick="openApk()">‚¨á Download APK</button>
  </div>
</div>

<!-- üì¶ APK LOGIN -->
<div class="card hide" id="apkBox">
  <h2>APK Download Security</h2>
  <div class="sub">Extra protection enabled</div>

  <input type="password" id="apkPass" placeholder="APK password">
  <button onclick="checkApk()">Unlock Download</button>

  <div class="hint">
    Password format: <b>APK@DDMMYYYY</b><br>
    Today: <b id="apkHint"></b>
  </div>
  <div id="apkErr" class="error"></div>

  <a id="apkLink" class="hide"
     href="https://drive.google.com/uc?export=download&id=1dTC01CLUktCk2BDQN1bfEglRUuvpM8sH">
    <button class="apk-btn">‚¨á Download APK</button>
  </a>
</div>

</div>

<script>
/* ===== DATE & PASSWORD ===== */
function todayStr(){
  const d=new Date();
  return String(d.getDate()).padStart(2,"0")+
         String(d.getMonth()+1).padStart(2,"0")+
         d.getFullYear();
}
const SITE_PASS="RS@"+todayStr();
const APK_PASS ="APK@"+todayStr();

siteHint.innerText=SITE_PASS;
apkHint.innerText =APK_PASS;

/* ===== ATTEMPTS ===== */
let siteTry=Number(localStorage.getItem("siteTry"))||0;
let apkTry =Number(localStorage.getItem("apkTry"))||0;

/* ===== WEBSITE LOGIN ===== */
function checkSite(){
  if(siteTry>=3){
    siteErr.innerText="Too many attempts. Try tomorrow.";
    return;
  }
  if(sitePass.value!==SITE_PASS){
    siteTry++;
    localStorage.setItem("siteTry",siteTry);
    siteErr.innerText="Wrong password ("+(3-siteTry)+" left)";
    return;
  }
  localStorage.removeItem("siteTry");
  loginBox.classList.add("hide");
  content.classList.remove("hide");

  if(!localStorage.getItem("startTime")){
    localStorage.setItem("startTime",Date.now());
    localStorage.setItem("passDate",todayStr());
  }
  startTimer();
}

/* ===== TIMER ===== */
function startTimer(){
  setInterval(()=>{
    if(localStorage.getItem("passDate")!==todayStr()){
      localStorage.clear();
      location.reload();
      return;
    }
    const left=86400000-(Date.now()-localStorage.getItem("startTime"));
    const h=Math.floor(left/3600000);
    const m=Math.floor((left%3600000)/60000);
    const s=Math.floor((left%60000)/1000);
    timer.innerText=`‚è≥ Time left: ${h}h ${m}m ${s}s`;
  },1000);
}

/* ===== OPEN WEBSITE ===== */
function openWebsite(){
  window.open("https://rarestudy.site","_blank");
}

/* ===== APK ===== */
function openApk(){
  apkBox.classList.remove("hide");
  apkBox.scrollIntoView({behavior:"smooth"});
}
function checkApk(){
  if(apkTry>=2){
    apkErr.innerText="Too many attempts.";
    return;
  }
  if(apkPass.value!==APK_PASS){
    apkTry++;
    localStorage.setItem("apkTry",apkTry);
    apkErr.innerText="Wrong password ("+(2-apkTry)+" left)";
    return;
  }
  localStorage.removeItem("apkTry");
  apkLink.classList.remove("hide");
}
</script>

</body>
  </html>
