<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Secure Access</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --pw:#5b2bd6;
  --yellow:#ffcf00;
  --bg:#f6f7fb;
}
body{
  margin:0;
  background:var(--bg);
  font-family:system-ui,Segoe UI,Arial;
}
.wrapper{
  max-width:420px;
  margin:30px auto;
  padding:14px;
}
.card{
  background:#fff;
  border-radius:16px;
  padding:20px;
  box-shadow:0 10px 25px rgba(0,0,0,.08);
  margin-bottom:18px;
}
h2{margin:0 0 6px;color:var(--pw)}
.sub{font-size:13px;color:#666;margin-bottom:10px}
input,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:12px;
  border:1.5px solid #ddd;
  font-size:15px;
}
button{
  background:var(--pw);
  color:#fff;
  font-weight:700;
  border:none;
}
.hint{font-size:12px;color:#555;margin-top:8px}
.error{color:#d32f2f;font-size:13px;margin-top:6px}
.timer{
  background:#fff7cc;
  border:1px dashed var(--yellow);
  padding:10px;
  border-radius:12px;
  text-align:center;
  font-weight:700;
}
iframe{
  width:100%;
  height:220px;
  border-radius:14px;
  border:none;
}
.apk-btn{
  background:linear-gradient(135deg,#ff9800,#ffcf00);
  color:#3b2a00;
  font-weight:800;
}
.hide{display:none}
ol{font-size:14px;padding-left:18px}
ol li{margin-bottom:6px}
</style>
</head>

<body>
<div class="wrapper">

<!-- üîê WEBSITE LOGIN -->
<div class="card" id="loginBox">
  <h2>üîê Login Required</h2>
  <div class="sub">Enter password to continue</div>

  <input type="password" id="sitePass" placeholder="Website password">
  <button onclick="checkSite()">Continue</button>

  <div class="hint">
    Password format: <b>RS@DDMMYYYY</b><br>
    Today: <b id="siteHint"></b>
  </div>
  <div id="siteErr" class="error"></div>
</div>

<!-- üåê WEBSITE CONTENT -->
<div id="content" class="hide">

  <div class="card">
    <div class="timer" id="timer"></div>
  </div>

  <div class="card">
    <h2>üé• Video Guide</h2>
    <iframe src="https://drive.google.com/file/d/1We5gjl7d5t9Z9OfYAFObuuIX3tY5a_9T/preview"></iframe>
  </div>

  <div class="card">
    <h2>üìå Important Instructions</h2>
    <ol>
      <li>Turn OFF Private / Custom DNS in phone settings.</li>
      <li>Use Chrome or Opera Mini (Opera Mini = fewer ads).</li>
      <li>If ads open, press BACK once.</li>
      <li>If website does not open, turn ON VPN.</li>
      <li>Laptop users: VPN + Ad-Blocker recommended.</li>
    </ol>
  </div>

  <div class="card">
    <h2>üåê Open Website</h2>
    <button onclick="openWebsite()">Go to rarestudy.site</button>
  </div>

  <div class="card">
    <button onclick="openApk()">‚¨á Download APK</button>
  </div>
</div>

<!-- üì¶ APK LOGIN -->
<div class="card hide" id="apkBox">
  <h2>APK Download Login</h2>

  <input type="password" id="apkPass" placeholder="APK password">
  <button onclick="checkApk()">Unlock Download</button>

  <div class="hint">
    Password format: <b>APK@DDMMYYYY</b><br>
    Today: <b id="apkHint"></b>
  </div>
  <div id="apkErr" class="error"></div>

  <a id="apkLink" class="hide"
     href="https://drive.google.com/uc?export=download&id=1dTC01CLUktCk2BDQN1bfEglRUuvpM8sH">
    <button class="apk-btn">‚¨á Download APK</button>
  </a>
</div>

</div>

<script>
/* ===== DATE & PASSWORD AUTO ===== */
function todayStr(){
  const d=new Date();
  return String(d.getDate()).padStart(2,"0")+
         String(d.getMonth()+1).padStart(2,"0")+
         d.getFullYear();
}
const SITE_PASS="RS@"+todayStr();
const APK_PASS ="APK@"+todayStr();

siteHint.innerText=SITE_PASS;
apkHint.innerText =APK_PASS;

/* ===== ATTEMPT LIMIT ===== */
let siteTry=Number(localStorage.getItem("siteTry"))||0;
let apkTry =Number(localStorage.getItem("apkTry"))||0;

/* ===== WEBSITE LOGIN ===== */
function checkSite(){
  if(siteTry>=3){
    siteErr.innerText="Too many attempts. Try tomorrow.";
    return;
  }
  if(sitePass.value!==SITE_PASS){
    siteTry++;
    localStorage.setItem("siteTry",siteTry);
    siteErr.innerText="Wrong password ("+(3-siteTry)+" left)";
    return;
  }
  localStorage.removeItem("siteTry");
  loginBox.classList.add("hide");
  content.classList.remove("hide");

  if(!localStorage.getItem("startTime")){
    localStorage.setItem("startTime",Date.now());
    localStorage.setItem("passDate",todayStr());
  }
  startTimer();
}

/* ===== TIMER ===== */
function startTimer(){
  setInterval(()=>{
    if(localStorage.getItem("passDate")!==todayStr()){
      localStorage.clear();
      location.reload();
      return;
    }
    const left=86400000-(Date.now()-localStorage.getItem("startTime"));
    const h=Math.floor(left/3600000);
    const m=Math.floor((left%3600000)/60000);
    const s=Math.floor((left%60000)/1000);
    timer.innerText=`Time left: ${h}h ${m}m ${s}s`;
  },1000);
}

/* ===== WEBSITE OPEN ===== */
function openWebsite(){
  window.open("https://rarestudy.site","_blank");
}

/* ===== APK ===== */
function openApk(){
  apkBox.classList.remove("hide");
}
function checkApk(){
  if(apkTry>=2){
    apkErr.innerText="Too many attempts.";
    return;
  }
  if(apkPass.value!==APK_PASS){
    apkTry++;
    localStorage.setItem("apkTry",apkTry);
    apkErr.innerText="Wrong password ("+(2-apkTry)+" left)";
    return;
  }
  localStorage.removeItem("apkTry");
  apkLink.classList.remove("hide");
}
</script>

</body>
</html>
